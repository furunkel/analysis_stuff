<html>
<head>
<style>
pre {margin: 0.1em }

            span {
                white-space: pre;
            }

            .label-100 {
                border: 1px solid gray;
            }

            .label0 {
                border: 1px solid white;
            }

            .label1 {
                border: 1px solid blue;
            }
            .new {
                background-color: #8FFF92;
            }

            .context-size {
	            padding: 0.1em;
	            color: white;
	            background-color: black;
	            border-radius: 50%;
	            width: 1.5em;
	            display: inline-block;
	            text-align: center;
	            height: 1.5em;
	            line-height: 1.5em;
                margin-right: 0.6em;
            }
.pred0{background-color: rgba(255, 0, 0, 0.0);}
.pred1{background-color: rgba(255, 0, 0, 0.1);}
.pred2{background-color: rgba(255, 0, 0, 0.2);}
.pred3{background-color: rgba(255, 0, 0, 0.3);}
.pred4{background-color: rgba(255, 0, 0, 0.4);}
.pred5{background-color: rgba(255, 0, 0, 0.5);}
.pred6{background-color: rgba(255, 0, 0, 0.6);}
.pred7{background-color: rgba(255, 0, 0, 0.7);}
.pred8{background-color: rgba(255, 0, 0, 0.8);}
.pred9{background-color: rgba(255, 0, 0, 0.9);}
.pred10{background-color: rgba(255, 0, 0, 1.0);}
</style>
</head>
<body>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">Equals</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">false</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">true</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">false</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">true</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> unhandled</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> throw</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Selector</span><!--
--><span class="label0 pred0">ParseException</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">Could</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0"> query</span><!--
--><span class="label0 pred0"> &#x27;%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&#x27;:</span><!--
--><span class="label0 pred0"> unexpected</span><!--
--><span class="label0 pred0"> token</span><!--
--><span class="label0 pred0"> at</span><!--
--><span class="label0 pred0"> &#x27;%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&#x27;&quot;,</span><!--
--><span class="label0 pred0"> query</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">Elements</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Collection</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">addAll</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">add</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> intersect</span><!--
--><span class="label0 pred0">Elements</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Collection</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> intersect</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">retain</span><!--
--><span class="label0 pred0">All</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">intersect</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Id</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> id</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Css</span><!--
--><span class="label0 pred0">Identifier</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> found</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementById</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Id</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">found</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Id</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">add</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">found</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Id</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Css</span><!--
--><span class="label0 pred0">Identifier</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">Selector</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> namespaces</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">abc</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0">def</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> selector</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">abc</span><!--
--><span class="label0 pred0">|</span><!--
--><span class="label0 pred0">def</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> so</span><!--
--><span class="label0 pred0"> flip</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(&quot;|</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">replace</span><!--
--><span class="label0 pred0">(&quot;|</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Token</span><!--
--><span class="label0 pred0">Queue</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Token</span><!--
--><span class="label0 pred0">Queue</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">ch</span><!--
--><span class="label1 pred0">omp</span><!--
--><span class="label1 pred0">Bal</span><!--
--><span class="label1 pred0">anced</span><!--
--><span class="label0 pred0">(&#x27;[</span><!--
--><span class="label0 pred0">&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;]</span><!--
--><span class="label0 pred0">&#x27;));</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred10">consume</span><!--
--><span class="label0 pred10">To</span><!--
--><span class="label0 pred10">Any</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">=&quot;,</span><!--
--><span class="label0 pred0"> &quot;!</span><!--
--><span class="label0 pred0">=&quot;,</span><!--
--><span class="label0 pred0"> &quot;^</span><!--
--><span class="label0 pred0">=&quot;,</span><!--
--><span class="label0 pred0"> &quot;$</span><!--
--><span class="label0 pred0">=&quot;,</span><!--
--><span class="label0 pred0"> &quot;*</span><!--
--><span class="label0 pred0">=&quot;,</span><!--
--><span class="label0 pred0"> &quot;~</span><!--
--><span class="label0 pred0">=&quot;);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> eq</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> contain</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">no</span><!--
--><span class="label0 pred0"> val</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">startsWith</span><!--
--><span class="label0 pred0">(&quot;^</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">Starting</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">AttributeValue</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">!</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">AttributeValue</span><!--
--><span class="label0 pred0">Not</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;^</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">AttributeValue</span><!--
--><span class="label0 pred0">Starting</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;$</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">AttributeValue</span><!--
--><span class="label0 pred0">Ending</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;*</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">AttributeValue</span><!--
--><span class="label0 pred0">Containing</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">~</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">AttributeValue</span><!--
--><span class="label0 pred0">Matching</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> throw</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Selector</span><!--
--><span class="label0 pred0">ParseException</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">Could</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> query</span><!--
--><span class="label0 pred0"> &#x27;%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&#x27;:</span><!--
--><span class="label0 pred0"> unexpected</span><!--
--><span class="label0 pred0"> token</span><!--
--><span class="label0 pred0"> at</span><!--
--><span class="label0 pred0"> &#x27;%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&#x27;&quot;,</span><!--
--><span class="label0 pred0"> query</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> cq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remainder</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0">Elements</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getAll</span><!--
--><span class="label0 pred0">Elements</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> pseudo</span><!--
--><span class="label0 pred0"> selectors</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">lt</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">gt</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">eq</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">LessThan</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">LessThan</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">GreaterThan</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">GreaterThan</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">Equals</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElementsBy</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">Equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">S</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">trim</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isTrue</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">StringUtil</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Numeric</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">S</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> numeric</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> Integer</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">parseInt</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">S</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> pseudo</span><!--
--><span class="label0 pred0"> selector</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">el</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> sub</span><!--
--><span class="label0 pred0">Query</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">ch</span><!--
--><span class="label1 pred0">omp</span><!--
--><span class="label1 pred0">Bal</span><!--
--><span class="label1 pred0">anced</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">(&#x27;,&#x27;)</span><!--
--><span class="label0 pred0">&#x27;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sub</span><!--
--><span class="label0 pred0">Query</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">el</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> sub</span><!--
--><span class="label0 pred0">select</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> filter</span><!--
--><span class="label0 pred0">For</span><!--
--><span class="label0 pred0">Parents</span><!--
--><span class="label0 pred0">Of</span><!--
--><span class="label0 pred0">Desc</span><!--
--><span class="label0 pred0">endants</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">elements</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> select</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sub</span><!--
--><span class="label0 pred0">Query</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> pseudo</span><!--
--><span class="label0 pred0"> selector</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">boolean</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">own</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">&quot;</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred1"> Token</span><!--
--><span class="label0 pred1">Queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">ch</span><!--
--><span class="label1 pred0">omp</span><!--
--><span class="label1 pred0">Bal</span><!--
--><span class="label1 pred0">anced</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">(&#x27;,&#x27;)</span><!--
--><span class="label0 pred0">&#x27;));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> query</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElement</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">Containing</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElement</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">Containing</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">boolean</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">own</span><!--
--><span class="label0 pred0">?</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">&quot;</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> regex</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">ch</span><!--
--><span class="label1 pred0">omp</span><!--
--><span class="label1 pred0">Bal</span><!--
--><span class="label1 pred0">anced</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">(&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;)</span><!--
--><span class="label0 pred0">&#x27;);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> don</span><!--
--><span class="label0 pred0">&#x27;t</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> regex</span><!--
--><span class="label0 pred0"> bits</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> escaped</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> query</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElement</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">Matching</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getElement</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">Matching</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">selector</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> sub</span><!--
--><span class="label0 pred0">Query</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">ch</span><!--
--><span class="label1 pred0">omp</span><!--
--><span class="label1 pred0">Bal</span><!--
--><span class="label1 pred0">anced</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">(&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;)</span><!--
--><span class="label0 pred0">&#x27;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sub</span><!--
--><span class="label0 pred0">Query</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;:</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">selector</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> sub</span><!--
--><span class="label0 pred0">select</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> filter</span><!--
--><span class="label0 pred0">Out</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">root</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getAll</span><!--
--><span class="label0 pred0">Elements</span><!--
--><span class="label0 pred0">(),</span><!--
--><span class="label0 pred0"> select</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sub</span><!--
--><span class="label0 pred0">Query</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> direct</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> desc</span><!--
--><span class="label0 pred0">endants</span><!--
--><span class="label0 pred0">
   </span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> An</span><!--
--><span class="label0 pred0"> XML</span><!--
--><span class="label0 pred0"> Declaration</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> j</span><!--
--><span class="label0 pred0">on</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0">@</span><!--
--><span class="label0 pred0">hed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">net</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Xml</span><!--
--><span class="label0 pred0">Declaration</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> DECL</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">declaration</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Processing</span><!--
--><span class="label0 pred0">Instruction</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> &lt;!</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &lt;?</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> declaration</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">and</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> should</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> XML</span><!--
--><span class="label0 pred0"> declaration</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> uri</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Processing</span><!--
--><span class="label0 pred0">Instruction</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> processing</span><!--
--><span class="label0 pred0"> instruction</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Xml</span><!--
--><span class="label0 pred0">Declaration</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Processing</span><!--
--><span class="label0 pred0">Instruction</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DECL</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Processing</span><!--
--><span class="label0 pred0">Instruction</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Processing</span><!--
--><span class="label0 pred0">Instruction</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> nodeName</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> &quot;#</span><!--
--><span class="label0 pred0">declaration</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> XML</span><!--
--><span class="label0 pred0"> declaration</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> XML</span><!--
--><span class="label0 pred0"> declaration</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Declaration</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DECL</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred2"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Processing</span><!--
--><span class="label0 pred0">Instruction</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">!&quot;</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> &quot;?</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Declaration</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred2"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {}</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> A</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> style</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> script</span><!--
--><span class="label0 pred0"> tags</span><!--
--><span class="label0 pred0"> etc</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> where</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> should</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> show</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> j</span><!--
--><span class="label0 pred0">on</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0">@</span><!--
--><span class="label0 pred0">hed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">net</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0">{</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> DATA</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> URI</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DATA</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> nodeName</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> &quot;#</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escaped</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> original</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> lines</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> space</span><!--
--><span class="label0 pred0"> etc</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DATA</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DATA</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred1"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> escaped</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> nodes</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> so</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> script</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> style</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> plain</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred1"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {}</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> b</span><!--
--><span class="label0 pred0">ass</span><!--
--><span class="label0 pred0"> URI</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">From</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred1"> Entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">parser</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">helper</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Validate</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> A</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> parsing</span><!--
--><span class="label0 pred0"> helpers</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Token</span><!--
--><span class="label0 pred0">Queue</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> ESC</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &#x27;\\</span><!--
--><span class="label0 pred0">&#x27;;</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0"> bal</span><!--
--><span class="label0 pred0">anced</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Token</span><!--
--><span class="label0 pred0">Queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> back</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Token</span><!--
--><span class="label0 pred0">Queue</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Is</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">?</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> left</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> remaining</span><!--
--><span class="label0 pred0">Length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> remaining</span><!--
--><span class="label0 pred0">Length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Retrieves</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> does</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> First</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> peek</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">charAt</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> next</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0"> retrieved</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">First</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">First</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">First</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> very</span><!--
--><span class="label0 pred0"> perform</span><!--
--><span class="label0 pred0">ant</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> edge</span><!--
--><span class="label0 pred0"> case</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Tests</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> next</span><!--
--><span class="label0 pred0"> characters</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> sequence</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Case</span><!--
--><span class="label0 pred0"> ins</span><!--
--><span class="label0 pred0">ensitive</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> check</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> next</span><!--
--><span class="label0 pred0"> characters</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> /*</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> count</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">count</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> remaining</span><!--
--><span class="label0 pred0">Length</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (--</span><!--
--><span class="label0 pred0">count</span><!--
--><span class="label0 pred0"> &gt;=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">seq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">charAt</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">count</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> Character</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">charAt</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">pos</span><!--
--><span class="label0 pred0">+</span><!--
--><span class="label0 pred0">count</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;*/</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">region</span><!--
--><span class="label0 pred0">Matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">true</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Case</span><!--
--><span class="label0 pred0"> sensitive</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0"> test</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">CS</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">startsWith</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">seq</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Tests</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> next</span><!--
--><span class="label0 pred0"> characters</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> sequences</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Case</span><!--
--><span class="label0 pred0"> ins</span><!--
--><span class="label0 pred0">ensitive</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">...</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> s</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> seq</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">char</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">with</span><!--
--><span class="label0 pred0"> \</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0"> Those</span><!--
--><span class="label0 pred0"> escap</span><!--
--><span class="label0 pred0">es</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> left</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> returned</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> which</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> suitable</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> regex</span><!--
--><span class="label0 pred0">es</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">where</span><!--
--><span class="label0 pred0"> we</span><!--
--><span class="label0 pred0"> need</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> preserve</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">suit</span><!--
--><span class="label0 pred0">able</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> use</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> open</span><!--
--><span class="label0 pred0"> op</span><!--
--><span class="label0 pred0">ener</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> close</span><!--
--><span class="label0 pred0"> closer</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> ch</span><!--
--><span class="label1 pred0">omp</span><!--
--><span class="label1 pred0">Bal</span><!--
--><span class="label1 pred0">anced</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">char</span><!--
--><span class="label0 pred0"> open</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> close</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> do</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> break</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Character</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">last</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> ESC</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">open</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">close</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">--;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">depth</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> don</span><!--
--><span class="label0 pred0">&#x27;t</span><!--
--><span class="label0 pred0"> include</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0"> pair</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">depth</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Un</span><!--
--><span class="label0 pred0">escaped</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> \</span><!--
--><span class="label0 pred0"> escaped</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> back</span><!--
--><span class="label0 pred0">slash</span><!--
--><span class="label0 pred0"> escaped</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escaped</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">char</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">toCharArray</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> ESC</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">last</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> ESC</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> 
               </span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Pull</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> next</span><!--
--><span class="label0 pred0"> run</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> whitespace</span><!--
--><span class="label0 pred0"> characters</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> seen</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> seen</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> seen</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Retrieves</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> next</span><!--
--><span class="label0 pred0"> run</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> word</span><!--
--><span class="label0 pred0"> type</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">letter</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> digit</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> off</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> word</span><!--
--><span class="label0 pred0"> characters</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> none</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">Word</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Word</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">start</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Cons</span><!--
--><span class="label0 pred0">ume</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> off</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">word</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> :,</span><!--
--><span class="label0 pred0"> _,</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">TagName</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Word</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">:&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;_</span><!--
--><span class="label0 pred0">&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;-&#x27;</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">start</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Cons</span><!--
--><span class="label0 pred0">ume</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> CSS</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> selector</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> |</span><!--
--><span class="label0 pred0"> instead</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> namespaces</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> conflict</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">pseudo</span><!--
--><span class="label0 pred0"> selects</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">Selector</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Word</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Any</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">|&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;_</span><!--
--><span class="label0 pred0">&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;-&#x27;</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">start</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Cons</span><!--
--><span class="label0 pred0">ume</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> CSS</span><!--
--><span class="label0 pred0"> identifier</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">ID</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> off</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">letter</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> digit</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> _)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> http</span><!--
--><span class="label0 pred0">://</span><!--
--><span class="label0 pred0">www</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">w</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">org</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">TR</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">CSS</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">syn</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">def</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">identifier</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> identifier</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">Css</span><!--
--><span class="label0 pred0">Identifier</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Word</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(&#x27;-</span><!--
--><span class="label0 pred0">&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;_</span><!--
--><span class="label0 pred0">&#x27;)))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">start</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Cons</span><!--
--><span class="label0 pred0">ume</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> off</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">letter</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> digit</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> _,</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> consume</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Word</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(&#x27;-</span><!--
--><span class="label0 pred0">&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;_</span><!--
--><span class="label0 pred0">&#x27;,</span><!--
--><span class="label0 pred0"> &#x27;:&#x27;</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">start</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Cons</span><!--
--><span class="label0 pred0">ume</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> whatever</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> left</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> remain</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> remainder</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> queue</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">addClass</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Remove</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> every</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> present</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">removeClass</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Toggle</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> every</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> missing</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> present</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> every</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> toggle</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">toggleClass</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Determine</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0"> have</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> their</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> check</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> do</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> none</span><!--
--><span class="label0 pred0"> do</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hasClass</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> form</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> form</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> val</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">size</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> &quot;&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> form</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> val</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Note</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> possible</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0"> repe</span><!--
--><span class="label0 pred0">ats</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0"> contain</span><!--
--><span class="label0 pred0"> both</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> their</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> method</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> its</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escaped</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0"> &quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;\</span><!--
--><span class="label0 pred0">n</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;\</span><!--
--><span class="label0 pred0">n</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Alias</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">link</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">()}.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> inside</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> existing</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">prepend</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">prepend</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> inside</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> after</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> existing</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label1 pred0"> append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Insert</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> matched</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> insert</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">before</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Elements</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">before</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> containing</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> view</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> List</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> List</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0">List</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> List</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> list</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> ArrayList</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">&gt;(</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">size</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Entry</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> entry</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">entrySet</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> list</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">add</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">entry</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getValue</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> Collections</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">unmodifiable</span><!--
--><span class="label0 pred0">List</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">list</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Retrieves</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> filtered</span><!--
--><span class="label0 pred0"> view</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> are</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">5</span><!--
--><span class="label0 pred0"> custom</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> keys</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> starting</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">}.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> map</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> custom</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> dataset</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Dataset</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> representation</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> these</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">new</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&quot;)).</span><!--
--><span class="label0 pred0">output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> output</span><!--
--><span class="label0 pred0"> settings</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> bit</span><!--
--><span class="label0 pred0"> funk</span><!--
--><span class="label0 pred0">y</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> se</span><!--
--><span class="label0 pred0">ld</span><!--
--><span class="label0 pred0">om</span><!--
--><span class="label0 pred0"> used</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred2"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Entry</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> entry</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">entrySet</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> entry</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getValue</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0"> &quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred1"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Object</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">this</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!(</span><!--
--><span class="label0 pred0">o</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">that</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> try</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">clone</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> catch</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Clone</span><!--
--><span class="label0 pred0">NotSupportedException</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> throw</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> RuntimeException</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> LinkedHashMap</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">&gt;(</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">size</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getKey</span><!--
--><span class="label0 pred0">(),</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">clone</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Dataset</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Abstract</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Entry</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;&gt;</span><!--
--><span class="label0 pred0"> entry</span><!--
--><span class="label0 pred0">Set</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Entry</span><!--
--><span class="label0 pred0">Set</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> oldValue</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">getValue</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> attr</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> attr</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> oldValue</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Entry</span><!--
--><span class="label0 pred0">Set</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Abstract</span><!--
--><span class="label0 pred0">Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Entry</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;&gt;</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Iterator</span><!--
--><span class="label0 pred0">&lt;</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> A</span><!--
--><span class="label0 pred0"> comment</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> j</span><!--
--><span class="label0 pred0">on</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0">@</span><!--
--><span class="label0 pred0">hed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">net</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Comment</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> COMMENT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">comment</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> comment</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> comment</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> URI</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Comment</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">COMMENT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> nodeName</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> &quot;#</span><!--
--><span class="label0 pred0">comment</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> comment</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> comment</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> getData</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">COMMENT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pretty</span><!--
--><span class="label0 pred0">Print</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> indent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&lt;!--</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">getData</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">--&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {}</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">iblings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">+</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> previous</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> previous</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> previous</span><!--
--><span class="label0 pred0">Sibling</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> List</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> s</span><!--
--><span class="label0 pred0">iblings</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Integer</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> s</span><!--
--><span class="label0 pred0">iblings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> list</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> its</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0"> list</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> I</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> position</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0"> list</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">Sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">Sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">*</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">4</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0">Tra</span><!--
--><span class="label0 pred0">ver</span><!--
--><span class="label0 pred0">sor</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">new</span><!--
--><span class="label0 pred0"> O</span><!--
--><span class="label0 pred0">uter</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Visitor</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0">())).</span><!--
--><span class="label0 pred0">traverse</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">this</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> document</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">or</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> retrieve</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> default</span><!--
--><span class="label0 pred0"> output</span><!--
--><span class="label0 pred0"> settings</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> owner</span><!--
--><span class="label0 pred0">Document</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> owner</span><!--
--><span class="label0 pred0">Document</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">new</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&quot;)).</span><!--
--><span class="label0 pred0">output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> accumulator</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> place</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> abstract</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> abstract</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> indent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;\</span><!--
--><span class="label0 pred0">n</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred1">StringUtil</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">padding</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">depth</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">indent</span><!--
--><span class="label0 pred0">Amount</span><!--
--><span class="label0 pred0">()));</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Object</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">this</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> todo</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> have</span><!--
--><span class="label0 pred0"> nodes</span><!--
--><span class="label0 pred0"> hold</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> compare</span><!--
--><span class="label0 pred0"> against</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> block</span><!--
--><span class="label0 pred0"> stack</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> they</span><!--
--><span class="label0 pred0"> go</span><!--
--><span class="label0 pred0"> back</span><!--
--><span class="label0 pred0"> up</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> stand</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">alone</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> deep</span><!--
--><span class="label0 pred0"> copy</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> its</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> cloned</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> have</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> s</span><!--
--><span class="label0 pred0">iblings</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> As</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> stand</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">alone</span><!--
--><span class="label0 pred0"> object</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> changes</span><!--
--><span class="label0 pred0"> made</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> its</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> impact</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> original</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> cloned</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> may</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> adopt</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> another</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> structure</span><!--
--><span class="label0 pred0"> using</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">link</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">appendChild</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)}.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> stand</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">alone</span><!--
--><span class="label0 pred0"> cloned</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> do</span><!--
--><span class="label0 pred0">Clone</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">null</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> splits</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> orphan</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> do</span><!--
--><span class="label0 pred0">Clone</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> try</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">clone</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> catch</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Clone</span><!--
--><span class="label0 pred0">NotSupportedException</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> throw</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> RuntimeException</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">parentNode</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> can</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> orphan</span><!--
--><span class="label0 pred0"> split</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">clone</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> ArrayList</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">&gt;(</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">size</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Nodes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">add</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">do</span><!--
--><span class="label0 pred0">Clone</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">clone</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> creates</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0">ph</span><!--
--><span class="label0 pred0">ans</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> do</span><!--
--><span class="label0 pred0">Clone</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> keeps</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> O</span><!--
--><span class="label0 pred0">uter</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Visitor</span><!--
--><span class="label0 pred0"> implements</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0">Visitor</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> O</span><!--
--><span class="label0 pred0">uter</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Visitor</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodeName</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(&quot;#</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> saves</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> hit</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">helper</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Validate</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">List</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Matcher</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ates</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> selector</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> abstract</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {}</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Test</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> me</span><!--
--><span class="label0 pred0">ets</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> evaluator</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> requirements</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0"> Root</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> subtree</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> tested</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> abstract</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> id</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Id</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> id</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Id</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> id</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> id</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">()));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> id</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Class</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hasClass</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> att</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">but</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> prefix</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">Starting</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">Prefix</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">Starting</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">Prefix</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">Prefix</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">Prefix</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> List</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> values</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">asList</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> values</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getKey</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">startsWith</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">Prefix</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">[^</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">Prefix</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equalsIgnoreCase</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Not</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Not</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equalsIgnoreCase</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">!</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> prefix</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Starting</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Starting</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">startsWith</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> lower</span><!--
--><span class="label0 pred0"> case</span><!--
--><span class="label0 pred0"> already</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">^</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> ending</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Ending</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Ending</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">endsWith</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> lower</span><!--
--><span class="label0 pred0"> case</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">$</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> containing</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Containing</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Containing</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> lower</span><!--
--><span class="label0 pred0"> case</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">*</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> regex</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Matching</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0">{</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> Pattern</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">WithValue</span><!--
--><span class="label0 pred0">Matching</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Pattern</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">trim</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pattern</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matcher</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)).</span><!--
--><span class="label0 pred0">find</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">:[</span><!--
--><span class="label0 pred0">%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">~</span><!--
--><span class="label0 pred0">=%</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">]&quot;,</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Abstract</span><!--
--><span class="label0 pred0"> evaluator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> abstract</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">KeyPair</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">trim</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">trim</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Dummy</span><!--
--><span class="label0 pred0"> evaluator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> All</span><!--
--><span class="label0 pred0">Elements</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">@</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0"> number</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> idx</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">LessThan</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Evaluator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">LessThan</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">Sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">lt</span><!--
--><span class="label0 pred0">(%</span><!--
--><span class="label0 pred0">d</span><!--
--><span class="label0 pred0">)&quot;,</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0"> number</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> idx</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">GreaterThan</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Evaluator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">GreaterThan</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">Sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">gt</span><!--
--><span class="label0 pred0">(%</span><!--
--><span class="label0 pred0">d</span><!--
--><span class="label0 pred0">)&quot;,</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0"> number</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> idx</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Equals</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Evaluator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">Sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
        </span><!--
--><span class="label0 pred0">	</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">format</span><!--
--><span class="label0 pred0">(&quot;:</span><!--
--><span class="label0 pred0">eq</span><!--
--><span class="label0 pred0">(%</span><!--
--><span class="label0 pred0">d</span><!--
--><span class="label0 pred0">)&quot;,</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">    
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Abstract</span><!--
--><span class="label0 pred0"> evaluator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> abstract</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Evaluator</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Index</span><!--
--><span class="label0 pred0">Evaluator</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> index</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">and</span><!--
--><span class="label0 pred0"> its</span><!--
--><span class="label0 pred0"> desc</span><!--
--><span class="label0 pred0">end</span><!--
--><span class="label0 pred0">ents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Contains</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Contains</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Contains</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Contains</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">search</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">and</span><!--
--><span class="label0 pred0"> its</span><!--
--><span class="label0 pred0"> desc</span><!--
--><span class="label0 pred0">end</span><!--
--><span class="label0 pred0">ents</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> regex</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Mat</span><!--
--><span class="label0 pred0">ches</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Pattern</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Mat</span><!--
--><span class="label0 pred0">ches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Pattern</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pattern</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Matcher</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matcher</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">find</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> matching</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> regex</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> ant</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Mat</span><!--
--><span class="label0 pred0">ches</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Evalu</span><!--
--><span class="label0 pred0">ator</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Pattern</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Mat</span><!--
--><span class="label0 pred0">ches</span><!--
--><span class="label0 pred0">Own</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Pattern</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pattern</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> matches</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> root</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Matcher</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> pattern</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matcher</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">find</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nio</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">charset</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Charset</span><!--
--><span class="label0 pred0">Encoder</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">HashMap</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Matcher</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">regex</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Pattern</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> entities</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0"> routines</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Source</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">a</span><!--
--><span class="label0 pred0"> href</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">http</span><!--
--><span class="label0 pred0">://</span><!--
--><span class="label0 pred0">www</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">w</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">org</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">TR</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">5</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">named</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">character</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">references</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">named</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">character</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">references</span><!--
--><span class="label0 pred0">&quot;&gt;</span><!--
--><span class="label0 pred0">W</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> named</span><!--
--><span class="label0 pred0"> character</span><!--
--><span class="label0 pred0"> references</span><!--
--><span class="label0 pred0">&lt;/</span><!--
--><span class="label0 pred0">a</span><!--
--><span class="label0 pred0">&gt;.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Entities</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> enum</span><!--
--><span class="label0 pred0"> E</span><!--
--><span class="label0 pred0">scape</span><!--
--><span class="label0 pred0">Mode</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0"> Re</span><!--
--><span class="label0 pred0">stricted</span><!--
--><span class="label0 pred0"> entities</span><!--
--><span class="label0 pred0"> suitable</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> XHTML</span><!--
--><span class="label0 pred0"> output</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> lt</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> gt</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> amp</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0">pos</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> quot</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> x</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">xhtml</span><!--
--><span class="label0 pred0">ByVal</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0"> Default</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> output</span><!--
--><span class="label0 pred0"> entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">ByVal</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0"> Complete</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> extended</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">full</span><!--
--><span class="label0 pred0">ByVal</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> map</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> E</span><!--
--><span class="label0 pred0">scape</span><!--
--><span class="label0 pred0">Mode</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> map</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">map</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> map</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> map</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Character</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> full</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> x</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">ByVal</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">ByVal</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> full</span><!--
--><span class="label0 pred0">ByVal</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Pattern</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">Pattern</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Pattern</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">compile</span><!--
--><span class="label0 pred0">(&quot;&amp;</span><!--
--><span class="label0 pred0">(#</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">|</span><!--
--><span class="label0 pred0">X</span><!--
--><span class="label0 pred0">)?</span><!--
--><span class="label0 pred0">([</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">9</span><!--
--><span class="label0 pred0">a</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">fA</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">F</span><!--
--><span class="label0 pred0">]+</span><!--
--><span class="label0 pred0">)|[</span><!--
--><span class="label0 pred0">a</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">zA</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">Z</span><!--
--><span class="label0 pred0">]+</span><!--
--><span class="label0 pred0">\\</span><!--
--><span class="label0 pred0">d</span><!--
--><span class="label0 pred0">*);</span><!--
--><span class="label0 pred0">?&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">encoder</span><!--
--><span class="label0 pred0">(),</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">Mode</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Charset</span><!--
--><span class="label0 pred0">Encoder</span><!--
--><span class="label0 pred0"> encoder</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> E</span><!--
--><span class="label0 pred0">scape</span><!--
--><span class="label0 pred0">Mode</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0">Mode</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> map</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> escape</span><!--
--><span class="label0 pred0">Mode</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getMap</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0"> pos</span><!--
--><span class="label0 pred0">++)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Character</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">charAt</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">pos</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">map</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">containsKey</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&#x27;&amp;</span><!--
--><span class="label0 pred0">&#x27;).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">map</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">)).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">&#x27;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">encoder</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">can</span><!--
--><span class="label0 pred0">Encode</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">char</span><!--
--><span class="label0 pred0">Value</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&amp;#</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">((</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">&#x27;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(&quot;&amp;</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Matcher</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">Pattern</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matcher</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> &amp;</span><!--
--><span class="label0 pred0">(#</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">|</span><!--
--><span class="label0 pred0">X</span><!--
--><span class="label0 pred0">)?</span><!--
--><span class="label0 pred0">([</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">9</span><!--
--><span class="label0 pred0">a</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">fA</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">F</span><!--
--><span class="label0 pred0">]+</span><!--
--><span class="label0 pred0">)|[</span><!--
--><span class="label0 pred0">a</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">zA</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">Z</span><!--
--><span class="label0 pred0">]\\</span><!--
--><span class="label0 pred0">d</span><!--
--><span class="label0 pred0">*);</span><!--
--><span class="label0 pred0">?</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> StringBuffer</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> StringBuffer</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> p</span><!--
--><span class="label0 pred0">ity</span><!--
--><span class="label0 pred0"> matcher</span><!--
--><span class="label0 pred0"> can</span><!--
--><span class="label0 pred0">&#x27;t</span><!--
--><span class="label0 pred0"> use</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">builder</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> avoid</span><!--
--><span class="label0 pred0"> sync</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> todo</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> replace</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">Replacement</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0"> impl</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> so</span><!--
--><span class="label0 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> quote</span><!--
--><span class="label0 pred0">Replacement</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> required</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">find</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> num</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">group</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">num</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> try</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">group</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">6</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> hex</span><!--
--><span class="label0 pred0"> indicator</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Integer</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">valueOf</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">num</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> catch</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Number</span><!--
--><span class="label0 pred0">FormatException</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> skip</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">group</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">full</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">containsKey</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">name</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> full</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">name</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">char</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">xFFFF</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> range</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Character</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">((</span><!--
--><span class="label0 pred0">char</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">val</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">Replacement</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Matcher</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">quote</span><!--
--><span class="label0 pred0">Replacement</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">Replacement</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Matcher</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">quote</span><!--
--><span class="label0 pred0">Replacement</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">group</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)));</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> replace</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> original</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> m</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> x</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0"> restricted</span><!--
--><span class="label0 pred0"> entities</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Object</span><!--
--><span class="label0 pred0">[][]</span><!--
--><span class="label0 pred0"> x</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">Array</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">quot</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">amp</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">6</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">apos</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">7</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">lt</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">gt</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> };</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> most</span><!--
--><span class="label0 pred0"> common</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> entities</span><!--
--><span class="label0 pred0"> can</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">escaped</span><!--
--><span class="label0 pred0"> without</span><!--
--><span class="label0 pred0"> trailing</span><!--
--><span class="label0 pred0"> ;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> &amp;</span><!--
--><span class="label0 pred0">amp</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> Object</span><!--
--><span class="label0 pred0">[][]</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Array</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">A</span><!--
--><span class="label0 pred0">El</span><!--
--><span class="label0 pred0">ig</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">6</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">AMP</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">6</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">A</span><!--
--><span class="label0 pred0">acute</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">Ac</span><!--
--><span class="label0 pred0">irc</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">2</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">A</span><!--
--><span class="label0 pred0">grave</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">A</span><!--
--><span class="label0 pred0">ring</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">5</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">At</span><!--
--><span class="label0 pred0">ilde</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">A</span><!--
--><span class="label0 pred0">uml</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">4</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">COPY</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">A</span><!--
--><span class="label0 pred0">9</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">ced</span><!--
--><span class="label0 pred0">il</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">7</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">ETH</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">D</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">acute</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">9</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">circ</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">CA</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">grave</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">8</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">uml</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">CB</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">GT</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">I</span><!--
--><span class="label0 pred0">acute</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">CD</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">I</span><!--
--><span class="label0 pred0">circ</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">x</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">CE</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">I</span><!--
--><span class="label0 pred0">grave</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> pre</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">defined</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> was</span><!--
--><span class="label0 pred0"> auto</span><!--
--><span class="label0 pred0"> created</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> parsing</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> known</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Known</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> known</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> should</span><!--
--><span class="label0 pred0"> preserve</span><!--
--><span class="label0 pred0"> whitespace</span><!--
--><span class="label0 pred0"> within</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> nodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> preserve</span><!--
--><span class="label0 pred0"> white</span><!--
--><span class="label0 pred0">pace</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Implicit</span><!--
--><span class="label0 pred0">Parent</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">ance</span><!--
--><span class="label0 pred0">stors</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0">cestors</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> requires</span><!--
--><span class="label0 pred0">Specific</span><!--
--><span class="label0 pred0">Parent</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> direct</span><!--
--><span class="label0 pred0">Desc</span><!--
--><span class="label0 pred0">endant</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> isValid</span><!--
--><span class="label0 pred0">Parent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> isValid</span><!--
--><span class="label0 pred0">Ancestor</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> isValid</span><!--
--><span class="label0 pred0">Ancestor</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ance</span><!--
--><span class="label0 pred0">stors</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ance</span><!--
--><span class="label0 pred0">stors</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">size</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">++)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ance</span><!--
--><span class="label0 pred0">stors</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Ign</span><!--
--><span class="label0 pred0">orable</span><!--
--><span class="label0 pred0">End</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> ignore</span><!--
--><span class="label0 pred0">End</span><!--
--><span class="label0 pred0">Tags</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">end</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">        
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Object</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">this</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">o</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> getClass</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">getClass</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">can</span><!--
--><span class="label0 pred0">Contain</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">can</span><!--
--><span class="label0 pred0">Contain</span><!--
--><span class="label0 pred0">Inline</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">optional</span><!--
--><span class="label0 pred0">Closing</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">empty</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred2"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> internal</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> initial</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">ers</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> pre</span><!--
--><span class="label0 pred0">pped</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> http</span><!--
--><span class="label0 pred0">://</span><!--
--><span class="label0 pred0">www</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">w</span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">org</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">TR</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">REC</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">4</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">sg</span><!--
--><span class="label0 pred0">ml</span><!--
--><span class="label0 pred0">/</span><!--
--><span class="label0 pred0">dtd</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">inline</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> tags</span><!--
--><span class="label0 pred0"> are</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> here</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> uppercase</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> leg</span><!--
--><span class="label0 pred0">ibility</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> internally</span><!--
--><span class="label0 pred0"> held</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> lowercase</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> TODO</span><!--
--><span class="label0 pred0">[</span><!--
--><span class="label0 pred0">must</span><!--
--><span class="label0 pred0">]:</span><!--
--><span class="label0 pred0"> incorpor</span><!--
--><span class="label0 pred0">ate</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">5</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> appropriate</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> document</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">HTML</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">set</span><!--
--><span class="label0 pred0">Ancestor</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">new</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">[</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">]);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> specific</span><!--
--><span class="label0 pred0"> includes</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> impl</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">HEAD</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">setParent</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">HTML</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">set</span><!--
--><span class="label0 pred0">Limit</span><!--
--><span class="label0 pred0">Children</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">BODY</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">set</span><!--
--><span class="label0 pred0">Ancestor</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">HTML</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> specific</span><!--
--><span class="label0 pred0"> includes</span><!--
--><span class="label0 pred0"> not</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">h</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">header</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">Welcome</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">valueOf</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Child</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> div</span><!--
--><span class="label0 pred0">}).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> allow</span><!--
--><span class="label0 pred0"> you</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.:</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">prepend</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">h</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">id</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">header</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">Welcome</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">valueOf</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">),</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0">Child</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Child</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">node</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0">Child</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">node</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> parsed</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> appended</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> inside</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> after</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> existing</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label1 pred0"> append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> fragment</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Parser</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">parse</span><!--
--><span class="label0 pred0">Body</span><!--
--><span class="label0 pred0">Fragment</span><!--
--><span class="label0 pred0">Rel</span><!--
--><span class="label0 pred0">ax</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">()).</span><!--
--><span class="label0 pred0">body</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">Children</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">fragment</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">As</span><!--
--><span class="label0 pred0">Array</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> parsed</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> each</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> pre</span><!--
--><span class="label0 pred0">pended</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> inside</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> existing</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> prepend</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> fragment</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Parser</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">parse</span><!--
--><span class="label0 pred0">Body</span><!--
--><span class="label0 pred0">Fragment</span><!--
--><span class="label0 pred0">Rel</span><!--
--><span class="label0 pred0">ax</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">()).</span><!--
--><span class="label0 pred0">body</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">Children</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> fragment</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">As</span><!--
--><span class="label0 pred0">Array</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Insert</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> specified</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> DOM</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> preceeding</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> before</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">b</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> now</span><!--
--><span class="label0 pred0">!&lt;/</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> p</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()}</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">Hello</span><!--
--><span class="label0 pred0"> there</span><!--
--><span class="label0 pred0"> now</span><!--
--><span class="label0 pred0">!</span><!--
--><span class="label0 pred0">&quot;}</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> none</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sb</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">toString</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">trim</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Nodes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Normal</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">last</span><!--
--><span class="label0 pred0">Char</span><!--
--><span class="label0 pred0">Is</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0"> &quot;);</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Gets</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> owned</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> does</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> For</span><!--
--><span class="label0 pred0"> example</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> given</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">Hello</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">b</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">there</span><!--
--><span class="label0 pred0">&lt;/</span><!--
--><span class="label0 pred0">b</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> now</span><!--
--><span class="label0 pred0">!&lt;/</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> p</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()}</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">Hello</span><!--
--><span class="label0 pred0"> now</span><!--
--><span class="label0 pred0">!</span><!--
--><span class="label0 pred0">&quot;},</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> whereas</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> p</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()}</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">Hello</span><!--
--><span class="label0 pred0"> there</span><!--
--><span class="label0 pred0"> now</span><!--
--><span class="label0 pred0">!</span><!--
--><span class="label0 pred0">&quot;}</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Note</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> within</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> b</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> returned</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> direct</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> p</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> none</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sb</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">toString</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">trim</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> own</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Nodes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Normal</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Normal</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">last</span><!--
--><span class="label0 pred0">Char</span><!--
--><span class="label0 pred0">Is</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">strip</span><!--
--><span class="label0 pred0">Leading</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Any</span><!--
--><span class="label0 pred0"> existing</span><!--
--><span class="label0 pred0"> contents</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> cleared</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> append</span><!--
--><span class="label0 pred0">Child</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Test</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">that</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> just</span><!--
--><span class="label0 pred0"> whitespace</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0"> non</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">blank</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Nodes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isBlank</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> el</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">el</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> combined</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> inside</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> script</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> none</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Nodes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">DataNode</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">   
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Gets</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> literal</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">&quot;</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> which</span><!--
--><span class="label0 pred0"> may</span><!--
--><span class="label0 pred0"> include</span><!--
--><span class="label0 pred0"> multiple</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> names</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> space</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> separated</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">E</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">&gt;&amp;</span><!--
--><span class="label0 pred0">lt</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">div</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">header</span><!--
--><span class="label0 pred0"> gray</span><!--
--><span class="label0 pred0">&quot;&gt;&lt;/</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;&lt;</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">header</span><!--
--><span class="label0 pred0"> gray</span><!--
--><span class="label0 pred0">&lt;/</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">&gt;&quot;)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> literal</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">b</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">empty</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">&lt;/</span><!--
--><span class="label0 pred0">b</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> &quot;&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> names</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> E</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">div</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">header</span><!--
--><span class="label0 pred0"> gray</span><!--
--><span class="label0 pred0">&quot;}</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> returns</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> two</span><!--
--><span class="label0 pred0"> elements</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">header</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">gray</span><!--
--><span class="label0 pred0">&quot;}</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Note</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> modifications</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> are</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> pushed</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> backing</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> use</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">link</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">Names</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Set</span><!--
--><span class="label0 pred0">)}</span><!--
--><span class="label0 pred0"> method</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> persist</span><!--
--><span class="label0 pred0"> them</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">names</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">Names</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">[]</span><!--
--><span class="label0 pred0"> names</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">split</span><!--
--><span class="label0 pred0">(&quot;\\</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">+</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Linked</span><!--
--><span class="label0 pred0">HashSet</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;(</span><!--
--><span class="label0 pred0">Arrays</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">asList</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">names</span><!--
--><span class="label0 pred0">));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> names</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">Names</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">Util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">join</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">Names</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0"> &quot;));</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Tests</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> check</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0"> does</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Add</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">add</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">classes</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Remove</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remove</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">classes</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Toggle</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">}</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> present</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> otherwise</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> name</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> toggle</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> toggle</span><!--
--><span class="label0 pred0">Class</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> className</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">classes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">contains</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">remove</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> classes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">add</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">className</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> classNames</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">classes</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> form</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">input</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> textarea</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> etc</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> form</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> val</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">textarea</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attr</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> form</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">input</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> textarea</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> etc</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> val</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">textarea</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> attr</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pretty</span><!--
--><span class="label0 pred0">Print</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">format</span><!--
--><span class="label0 pred0">As</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">parent</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">format</span><!--
--><span class="label0 pred0">As</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">())))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> indent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Self</span><!--
--><span class="label0 pred0">Closing</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0"> /&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!(</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Self</span><!--
--><span class="label0 pred0">Closing</span><!--
--><span class="label0 pred0">()))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pretty</span><!--
--><span class="label0 pred0">Print</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">childNodes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">format</span><!--
--><span class="label0 pred0">As</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> indent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;&lt;/</span><!--
--><span class="label0 pred0">&quot;).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">()).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Retrieves</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> E</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">div</span><!--
--><span class="label0 pred0">&gt;}</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> one</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">},</span><!--
--><span class="label0 pred0"> would</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;&lt;/</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">}.</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Where</span><!--
--><span class="label0 pred0">as</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">link</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">()}</span><!--
--><span class="label0 pred0"> would</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">div</span><!--
--><span class="label0 pred0">&gt;&lt;</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;&lt;/</span><!--
--><span class="label0 pred0">p</span><!--
--><span class="label0 pred0">&gt;&lt;/</span><!--
--><span class="label0 pred0">div</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">}.</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> 
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> 
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">toString</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">trim</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">Nodes</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">&#x27;s</span><!--
--><span class="label0 pred0"> inner</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Clear</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> existing</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Object</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">this</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!(</span><!--
--><span class="label0 pred0">o</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">o</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> o</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hashCode</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">3</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hashCode</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> result</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">clone</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">class</span><!--
--><span class="label0 pred0">Names</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> creates</span><!--
--><span class="label0 pred0"> linked</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> names</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> clone</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0"> parsed</span><!--
--><span class="label0 pred0"> into</span><!--
--><span class="label0 pred0"> body</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Body</span><!--
--><span class="label0 pred0">Fragment</span><!--
--><span class="label0 pred0">Rel</span><!--
--><span class="label0 pred0">ax</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> body</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Parser</span><!--
--><span class="label0 pred0"> parser</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Parser</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">body</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> parser</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">relax</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> parser</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">parse</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Start</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Start</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">CS</span><!--
--><span class="label0 pred0">(&quot;&lt;/</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">End</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">CS</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&lt;!--</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Comment</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">![</span><!--
--><span class="label0 pred0">CDATA</span><!--
--><span class="label0 pred0">[&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">C</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">CS</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&lt;?</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">CS</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&lt;!</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Xml</span><!--
--><span class="label0 pred0">Decl</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> doc</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Comment</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&lt;!--</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">-&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">endsWith</span><!--
--><span class="label0 pred0">(&quot;-</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> was</span><!--
--><span class="label0 pred0"> --&gt;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">substring</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()-</span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Comment</span><!--
--><span class="label0 pred0"> comment</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Comment</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">appendChild</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">comment</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Xml</span><!--
--><span class="label0 pred0">Decl</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Character</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0">Char</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> &lt;?</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">!,</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> initial</span><!--
--><span class="label0 pred0"> match</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> proc</span><!--
--><span class="label0 pred0">Instr</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0">Char</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">toString</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">!&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Xml</span><!--
--><span class="label0 pred0">Declaration</span><!--
--><span class="label0 pred0"> decl</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Xml</span><!--
--><span class="label0 pred0">Declaration</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> proc</span><!--
--><span class="label0 pred0">Instr</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">appendChild</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">decl</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">End</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(&quot;&lt;/</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">TagName</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">valueOf</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">last</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Ign</span><!--
--><span class="label0 pred0">orable</span><!--
--><span class="label0 pred0">End</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> skip</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0"> &lt;/</span><!--
--><span class="label0 pred0">tr</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">table</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> pop</span><!--
--><span class="label0 pred0">Stack</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">Close</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Start</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">TagName</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred1">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">Unexpected</span><!--
--><span class="label0 pred0">ly</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">name</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">This</span><!--
--><span class="label0 pred0"> should</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> occur</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> please</span><!--
--><span class="label0 pred0"> report</span><!--
--><span class="label0 pred0">!</span><!--
--><span class="label0 pred0">)&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">valueOf</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">/&gt;</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;&gt;</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> isEmpty</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> img</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> self</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">closed</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0"> el</span><!--
--><span class="label0 pred0"> (&lt;</span><!--
--><span class="label0 pred0">div</span><!--
--><span class="label0 pred0">/&gt;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">/&gt;</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> close</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> element</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> isEmpty</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Known</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> unknown</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> self</span><!--
--><span class="label0 pred0"> closed</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> allow</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> self</span><!--
--><span class="label0 pred0"> closed</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> output</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> doesn</span><!--
--><span class="label0 pred0">&#x27;t</span><!--
--><span class="label0 pred0"> force</span><!--
--><span class="label0 pred0"> all</span><!--
--><span class="label0 pred0"> instances</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">set</span><!--
--><span class="label0 pred0">Self</span><!--
--><span class="label0 pred0">Closing</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0">Child</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">Parent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> isEmpty</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> pc</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> tags</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">textarea</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> script</span><!--
--><span class="label0 pred0">):</span><!--
--><span class="label0 pred0"> ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> add</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Data</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">IgnoreCase</span><!--
--><span class="label0 pred0">(&quot;&lt;/</span><!--
--><span class="label0 pred0">&quot;</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> tagName</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(&quot;&gt;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> pop</span><!--
--><span class="label0 pred0">Stack</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">Close</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">title</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">textarea</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> want</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> show</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> contain</span><!--
--><span class="label0 pred0"> inside</span><!--
--><span class="label0 pred0"> tags</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">so</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">?)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">createFrom</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> raw</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">for</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> script</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">appendChild</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">data</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">   
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0"> href</span><!--
--><span class="label0 pred0">&gt;:</span><!--
--><span class="label0 pred0"> update</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> uri</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">tagName</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">equals</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">&quot;))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> href</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">abs</span><!--
--><span class="label0 pred0">Url</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">href</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">href</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> ignore</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0"> target</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> etc</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> href</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> doc</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">set</span><!--
--><span class="label0 pred0">Base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">href</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> doc</span><!--
--><span class="label0 pred0"> so</span><!--
--><span class="label0 pred0"> doc</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">createElement</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> will</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0"> updated</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> parse</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Tag</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &quot;&quot;;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">SQ</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">SQ</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">match</span><!--
--><span class="label0 pred0">Ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DQ</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">ch</span><!--
--><span class="label0 pred0">omp</span><!--
--><span class="label0 pred0">To</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">DQ</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">Accum</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> &#x27;</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> look</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> so</span><!--
--><span class="label0 pred0"> scan</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0"> tag</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> space</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">or</span><!--
--><span class="label0 pred0"> end</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> stream</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> /&gt;</span><!--
--><span class="label0 pred0"> allowed</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> tags</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (!(</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Any</span><!--
--><span class="label0 pred0">(&quot;&lt;</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;&gt;</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">/&gt;</span><!--
--><span class="label0 pred0">&quot;)))</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">matches</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isEmpty</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">Accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">tq</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">Accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> t</span><!--
--><span class="label0 pred0">q</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">consume</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">createFrom</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> no</span><!--
--><span class="label0 pred0"> key</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">helper</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">StringUtil</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> A</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> j</span><!--
--><span class="label0 pred0">on</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0">@</span><!--
--><span class="label0 pred0">hed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">net</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> extends</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /*</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> so</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> default</span><!--
--><span class="label0 pred0"> comes</span><!--
--><span class="label0 pred0"> with</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> children</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> The</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> are</span><!--
--><span class="label0 pred0"> se</span><!--
--><span class="label0 pred0">ld</span><!--
--><span class="label0 pred0">om</span><!--
--><span class="label0 pred0"> used</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> but</span><!--
--><span class="label0 pred0"> use</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> memory</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> child</span><!--
--><span class="label0 pred0"> nodes</span><!--
--><span class="label0 pred0"> are</span><!--
--><span class="label0 pred0"> never</span><!--
--><span class="label0 pred0"> used</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> So</span><!--
--><span class="label0 pred0"> we</span><!--
--><span class="label0 pred0"> don</span><!--
--><span class="label0 pred0">&#x27;t</span><!--
--><span class="label0 pred0"> have</span><!--
--><span class="label0 pred0"> them</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> override</span><!--
--><span class="label0 pred0"> accessors</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> them</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> needed</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> fly</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> TEXT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> representing</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> supplied</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> raw</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0"> uri</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">createFrom</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> nodeName</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> &quot;#</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> Un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">#</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> chaining</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">TEXT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> including</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0">lines</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> spaces</span><!--
--><span class="label0 pred0"> present</span><!--
--><span class="label0 pred0"> in</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> original</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">TEXT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Test</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> node</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> blank</span><!--
--><span class="label0 pred0"> --</span><!--
--><span class="label0 pred0"> that</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> whitespace</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">including</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0">lines</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> document</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> whitespace</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> it</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0"> any</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> content</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Blank</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">Util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">isBlank</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Head</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred3"> Entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred1">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">get</span><!--
--><span class="label0 pred0">Whole</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">(),</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pretty</span><!--
--><span class="label0 pred0">Print</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">((</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">()).</span><!--
--><span class="label0 pred0">preserve</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">pretty</span><!--
--><span class="label0 pred0">Print</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> sibling</span><!--
--><span class="label0 pred0">Index</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> instanceof</span><!--
--><span class="label0 pred0"> Element</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> ((</span><!--
--><span class="label0 pred0">Element</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> parent</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label0 pred0">tag</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">format</span><!--
--><span class="label0 pred0">As</span><!--
--><span class="label0 pred0">Block</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> !</span><!--
--><span class="label0 pred0">isBlank</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> indent</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">Tail</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> depth</span><!--
--><span class="label0 pred0">,</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {}</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred0"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> outer</span><!--
--><span class="label0 pred0">Html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">aka</span><!--
--><span class="label0 pred0"> escaped</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0"> containing</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> &amp;</span><!--
--><span class="label0 pred0">amp</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">lt</span><!--
--><span class="label0 pred0">;)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> containing</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> data</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> &amp;</span><!--
--><span class="label0 pred0">lt</span><!--
--><span class="label0 pred0">;)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">From</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred1"> Entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">Text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Text</span><!--
--><span class="label0 pred0">Node</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> base</span><!--
--><span class="label0 pred0">Uri</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">Util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> strip</span><!--
--><span class="label0 pred0">Leading</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">replace</span><!--
--><span class="label0 pred0">First</span><!--
--><span class="label0 pred0">(&quot;^</span><!--
--><span class="label0 pred0">\\</span><!--
--><span class="label0 pred0">s</span><!--
--><span class="label0 pred0">+&quot;,</span><!--
--><span class="label0 pred0"> &quot;&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0">Char</span><!--
--><span class="label0 pred0">Is</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0"> &amp;&amp;</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">charAt</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> -</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> &#x27;</span><!--
--><span class="label0 pred0"> &#x27;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> f</span><!--
--><span class="label0 pred0">idd</span><!--
--><span class="label0 pred0">ling</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0"> on</span><!--
--><span class="label0 pred0"> first</span><!--
--><span class="label0 pred0"> access</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">put</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">TEXT</span><!--
--><span class="label0 pred0">_</span><!--
--><span class="label0 pred0">KEY</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> text</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attributes</span><!--
--><span class="label0 pred0"> attributes</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">has</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Node</span><!--
--><span class="label0 pred0"> remove</span><!--
--><span class="label0 pred0">Attr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">removeAttr</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">Override</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> abs</span><!--
--><span class="label0 pred0">Url</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> ensure</span><!--
--><span class="label0 pred0">Attributes</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> super</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">abs</span><!--
--><span class="label0 pred0">Url</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">attribute</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">nodes</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">helper</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Validate</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Map</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> A</span><!--
--><span class="label0 pred0"> single</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Keys</span><!--
--><span class="label0 pred0"> are</span><!--
--><span class="label0 pred0"> trimmed</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> lower</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">case</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">author</span><!--
--><span class="label0 pred0"> Jon</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> j</span><!--
--><span class="label0 pred0">on</span><!--
--><span class="label0 pred0">athan</span><!--
--><span class="label0 pred0">@</span><!--
--><span class="label0 pred0">hed</span><!--
--><span class="label0 pred0">ley</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">net</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> implements</span><!--
--><span class="label0 pred0"> Map</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Entry</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">&gt;,</span><!--
--><span class="label0 pred0"> Clone</span><!--
--><span class="label0 pred0">able</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">raw</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">see</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">createFrom</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">trim</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> getKey</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Gets</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> per</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> constructor</span><!--
--><span class="label0 pred0"> method</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> set</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">not</span><!--
--><span class="label0 pred0">Empty</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">trim</span><!--
--><span class="label0 pred0">().</span><!--
--><span class="label0 pred0">toLowerCase</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> getValue</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Set</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> setValue</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> Validate</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">notNull</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> old</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> old</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> representation</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">g</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0"> href</span><!--
--><span class="label0 pred0">=&quot;</span><!--
--><span class="label0 pred0">index</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">&quot;}</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">=\&quot;&quot;</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred2"> Entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">new</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">&quot;)).</span><!--
--><span class="label0 pred0">output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> +</span><!--
--><span class="label0 pred0"> &quot;\&quot;</span><!--
--><span class="label0 pred0">&quot;;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> protected</span><!--
--><span class="label0 pred0"> void</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label1 pred0">StringBuilder</span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> Document</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Output</span><!--
--><span class="label0 pred0">Settings</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> accum</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">key</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">=\&quot;</span><!--
--><span class="label0 pred0">&quot;)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred1">Entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">value</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> .</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&quot;\&quot;</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> Get</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> representation</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> this</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> implemented</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> {@</span><!--
--><span class="label0 pred0">link</span><!--
--><span class="label0 pred0"> #</span><!--
--><span class="label0 pred0">html</span><!--
--><span class="label0 pred0">()}.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label1 pred1"> toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> html</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Create</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> from</span><!--
--><span class="label0 pred0"> an</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> and</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> H</span><!--
--><span class="label0 pred0">MT</span><!--
--><span class="label0 pred0">L</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0"> assumes</span><!--
--><span class="label0 pred0"> the</span><!--
--><span class="label0 pred0"> key</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> not</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> as</span><!--
--><span class="label0 pred0"> can</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> run</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> simple</span><!--
--><span class="label0 pred0"> \</span><!--
--><span class="label0 pred0">w</span><!--
--><span class="label0 pred0"> chars</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">Value</span><!--
--><span class="label0 pred0"> HTML</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> attribute</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0"> create</span><!--
--><span class="label0 pred0">From</span><!--
--><span class="label0 pred0">Encoded</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> un</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">Key</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> encoded</span><!--
--><span class="label0 pred0">Value</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> value</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred1"> Entities</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">escape</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">encoded</span><!--
--><span class="label0 pred0">Value</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> Attribute</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">un</span><!--
--><span class="label0 pred0">encoded</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">package</span><!--
--><span class="label0 pred0"> org</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">js</span><!--
--><span class="label0 pred0">oup</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">helper</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Collection</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">import</span><!--
--><span class="label0 pred0"> java</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">util</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">Iterator</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">/**</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> A</span><!--
--><span class="label0 pred0"> minimal</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> utility</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> Design</span><!--
--><span class="label0 pred0">ed</span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> inter</span><!--
--><span class="label0 pred0">al</span><!--
--><span class="label0 pred0"> j</span><!--
--><span class="label0 pred0">soup</span><!--
--><span class="label0 pred0"> use</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">public</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> class</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">Util</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> memo</span><!--
--><span class="label0 pred0">ised</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0"> up</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">1</span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> private</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> final</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">[]</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> {&quot;</span><!--
--><span class="label0 pred0">&quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">  </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">   </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">    </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">     </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">      </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">       </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">        </span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">         </span><!--
--><span class="label0 pred0"> &quot;</span><!--
--><span class="label0 pred0">};</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Join</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> collection</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> se</span><!--
--><span class="label0 pred0">perator</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0"> collection</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> objects</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> sep</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> place</span><!--
--><span class="label0 pred0"> between</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> joined</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> join</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Collection</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> sep</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> join</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">strings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">iterator</span><!--
--><span class="label0 pred0">(),</span><!--
--><span class="label0 pred0"> sep</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Join</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> collection</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0"> by</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> se</span><!--
--><span class="label0 pred0">perator</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0"> iterator</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> objects</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> sep</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> place</span><!--
--><span class="label0 pred0"> between</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> joined</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> join</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">Iterator</span><!--
--><span class="label0 pred0">&lt;</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0">&gt;</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> sep</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">strings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hasNext</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> &quot;&quot;;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> strings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">next</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">strings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hasNext</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> //</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> one</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> avoid</span><!--
--><span class="label0 pred0"> builder</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> start</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">6</span><!--
--><span class="label0 pred0">4</span><!--
--><span class="label0 pred0">).</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">start</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> while</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">strings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">hasNext</span><!--
--><span class="label0 pred0">())</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">sep</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">strings</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">next</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Returns</span><!--
--><span class="label0 pred0"> space</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> width</span><!--
--><span class="label0 pred0"> amount</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0"> desired</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> of</span><!--
--><span class="label0 pred0"> spaces</span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> width</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> width</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">width</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> throw</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> IllegalArgumentException</span><!--
--><span class="label0 pred0">(&quot;</span><!--
--><span class="label0 pred0">width</span><!--
--><span class="label0 pred0"> must</span><!--
--><span class="label0 pred0"> be</span><!--
--><span class="label0 pred0"> &gt;</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">&quot;);</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">width</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> padding</span><!--
--><span class="label0 pred0">[</span><!--
--><span class="label0 pred0">width</span><!--
--><span class="label0 pred0">];</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">[]</span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label0 pred0"> char</span><!--
--><span class="label0 pred0">[</span><!--
--><span class="label0 pred0">width</span><!--
--><span class="label0 pred0">];</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> width</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">++)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> out</span><!--
--><span class="label0 pred0">[</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">]</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> &#x27;</span><!--
--><span class="label0 pred0"> &#x27;;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">valueOf</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">out</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Tests</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> blank</span><!--
--><span class="label0 pred0">:</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> em</span><!--
--><span class="label0 pred0">tp</span><!--
--><span class="label0 pred0">y</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> whitespace</span><!--
--><span class="label0 pred0"> (&quot;</span><!--
--><span class="label0 pred0"> &quot;,</span><!--
--><span class="label0 pred0"> \</span><!--
--><span class="label0 pred0">r</span><!--
--><span class="label0 pred0">\</span><!--
--><span class="label0 pred0">n</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> \</span><!--
--><span class="label0 pred0">t</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> etc</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> test</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> blank</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Blank</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> l</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> l</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">++)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">Point</span><!--
--><span class="label0 pred0">At</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> /**</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> Tests</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> a</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0"> numeric</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">e</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> digit</span><!--
--><span class="label0 pred0"> characters</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">param</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0"> to</span><!--
--><span class="label0 pred0"> test</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> *</span><!--
--><span class="label0 pred0"> @</span><!--
--><span class="label0 pred0">return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> only</span><!--
--><span class="label0 pred0"> digit</span><!--
--><span class="label0 pred0"> chars</span><!--
--><span class="label0 pred0">,</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> empty</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> or</span><!--
--><span class="label0 pred0"> contains</span><!--
--><span class="label0 pred0"> non</span><!--
--><span class="label0 pred0">-</span><!--
--><span class="label0 pred0">digit</span><!--
--><span class="label0 pred0"> ch</span>
</div>
<hr/>
<div>
<h3>
Jsoup, 12
</h3>
<pre class="new">
&lt;FILEB&gt;<br/>&lt;CHANGES&gt;<br/>        String subQuery = consumeSubQuery(); // support multi &gt; childs<br/>&lt;CHANGEE&gt;<br/>&lt;CHANGES&gt;<br/>    }<br/>    private String consumeSubQuery() {<br/>        StringBuilder sq = new StringBuilder();<br/>        while (!tq.isEmpty()) {<br/>            if (tq.matches(&quot;(&quot;))<br/>                sq.append(&quot;(&quot;).append(tq.chompBalanced(&#x27;(&#x27;, &#x27;)&#x27;)).append(&quot;)&quot;);<br/>            else if (tq.matches(&quot;[&quot;))<br/>                sq.append(&quot;[&quot;).append(tq.chompBalanced(&#x27;[&#x27;, &#x27;]&#x27;)).append(&quot;]&quot;);<br/>            else if (tq.matchesAny(combinators))<br/>                break;<br/>            else<br/>                sq.append(tq.consume());<br/>        }<br/>        return sq.toString();<br/>&lt;CHANGEE&gt;<br/>&lt;FILEE&gt;<br/>
</pre>
<span class="label-100 pred0">&lt;FILEB&gt;</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;,&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> group</span><!--
--><span class="label-100 pred0"> or</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> while</span><!--
--><span class="label-100 pred0"> (!</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">isEmpty</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">(&quot;,&quot;);</span><!--
--><span class="label-100 pred0">
                   </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">());</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">seen</span><!--
--><span class="label-100 pred0">White</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(&#x27;</span><!--
--><span class="label-100 pred0"> &#x27;);</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">class</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">#</span><!--
--><span class="label-100 pred0">id</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> E</span><!--
--><span class="label-100 pred0">[</span><!--
--><span class="label-100 pred0">attr</span><!--
--><span class="label-100 pred0">]</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> AND</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> //</span><!--
--><span class="label-100 pred0"> take</span><!--
--><span class="label-100 pred0"> next</span><!--
--><span class="label-100 pred0"> el</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> #</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0"> etc</span><!--
--><span class="label-100 pred0"> off</span><!--
--><span class="label-100 pred0"> queue</span><!--
--><span class="label-100 pred0">
               </span><!--
--><span class="label-100 pred0"> intersect</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Self</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> candidates</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> void</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">char</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">)</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">Whitespace</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> String</span><!--
--><span class="label-100 pred0"> sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> t</span><!--
--><span class="label-100 pred0">q</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">consume</span><!--
--><span class="label-100 pred0">To</span><!--
--><span class="label-100 pred0">Any</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">combin</span><!--
--><span class="label-100 pred0">ators</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0">;</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0">&gt;&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Children</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;</span><!--
--><span class="label-100 pred0"> &#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Desc</span><!--
--><span class="label-100 pred0">endants</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;+</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">Adjacent</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">combinator</span><!--
--><span class="label-100 pred0"> ==</span><!--
--><span class="label-100 pred0"> &#x27;~</span><!--
--><span class="label-100 pred0">&#x27;)</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> output</span><!--
--><span class="label-100 pred0"> =</span><!--
--><span class="label-100 pred0"> filter</span><!--
--><span class="label-100 pred0">For</span><!--
--><span class="label-100 pred0">General</span><!--
--><span class="label-100 pred0">S</span><!--
--><span class="label-100 pred0">iblings</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">elements</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> select</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">sub</span><!--
--><span class="label-100 pred0">Query</span><!--
--><span class="label-100 pred0">,</span><!--
--><span class="label-100 pred0"> root</span><!--
--><span class="label-100 pred0">));</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> throw</span><!--
--><span class="label-100 pred0"> new</span><!--
--><span class="label-100 pred0"> IllegalStateException</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">Unknown</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">:</span><!--
--><span class="label-100 pred0"> &quot;</span><!--
--><span class="label-100 pred0"> +</span><!--
--><span class="label-100 pred0"> combin</span><!--
--><span class="label-100 pred0">ator</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">clear</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0"> elements</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">addAll</span><!--
--><span class="label-100 pred0">(</span><!--
--><span class="label-100 pred0">output</span><!--
--><span class="label-100 pred0">);</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGES&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;CHANGEE&gt;</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0">
   </span><!--
--><span class="label-100 pred0"> private</span><!--
--><span class="label-100 pred0"> Elements</span><!--
--><span class="label-100 pred0"> find</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">()</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;#</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Id</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;.</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Class</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">Word</span><!--
--><span class="label-100 pred0">())</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Tag</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">matches</span><!--
--><span class="label-100 pred0">(&quot;</span><!--
--><span class="label-100 pred0">[&quot;</span><!--
--><span class="label-100 pred0">))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> by</span><!--
--><span class="label-100 pred0">Attribute</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
       </span><!--
--><span class="label-100 pred0"> }</span><!--
--><span class="label-100 pred0"> else</span><!--
--><span class="label-100 pred0"> if</span><!--
--><span class="label-100 pred0"> (</span><!--
--><span class="label-100 pred0">tq</span><!--
--><span class="label-100 pred0">.</span><!--
--><span class="label-100 pred0">match</span><!--
--><span class="label-100 pred0">Ch</span><!--
--><span class="label-100 pred0">omp</span><!--
--><span class="label-100 pred0">(&quot;*</span><!--
--><span class="label-100 pred0">&quot;))</span><!--
--><span class="label-100 pred0"> {</span><!--
--><span class="label-100 pred0">
           </span><!--
--><span class="label-100 pred0"> return</span><!--
--><span class="label-100 pred0"> all</span><!--
--><span class="label-100 pred0">Elements</span><!--
--><span class="label-100 pred0">();</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;FILEE&gt;</span><!--
--><span class="label-100 pred0">
</span><!--
--><span class="label-100 pred0">&lt;SCANS&gt;</span><!--
--><span class="label0 pred0">rs</span><!--
--><span class="label0 pred0">
    </span><!--
--><span class="label0 pred0"> */</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> is</span><!--
--><span class="label0 pred0">Numeric</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> null</span><!--
--><span class="label0 pred0"> ||</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> ==</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> l</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> l</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">++)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (!</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Digit</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">Point</span><!--
--><span class="label0 pred0">At</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">)))</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> public</span><!--
--><span class="label0 pred0"> static</span><!--
--><span class="label0 pred0"> String</span><!--
--><span class="label0 pred0"> normal</span><!--
--><span class="label0 pred0">ise</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">String</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> new</span><!--
--><span class="label1 pred0"> StringBuilder</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">());</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0">Was</span><!--
--><span class="label0 pred0">White</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> boolean</span><!--
--><span class="label0 pred0"> modified</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> l</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">length</span><!--
--><span class="label0 pred0">();</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> for</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">int</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> </span><!--
--><span class="label0 pred0">0</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0"> &lt;</span><!--
--><span class="label0 pred0"> l</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0"> i</span><!--
--><span class="label0 pred0">++)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> int</span><!--
--><span class="label0 pred0"> c</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">code</span><!--
--><span class="label0 pred0">Point</span><!--
--><span class="label0 pred0">At</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">i</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">Character</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">is</span><!--
--><span class="label0 pred0">Whitespace</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">))</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">last</span><!--
--><span class="label0 pred0">Was</span><!--
--><span class="label0 pred0">White</span><!--
--><span class="label0 pred0">)</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> modified</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> continue</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> if</span><!--
--><span class="label0 pred0"> (</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0"> !=</span><!--
--><span class="label0 pred0"> &#x27;</span><!--
--><span class="label0 pred0"> &#x27;)</span><!--
--><span class="label0 pred0">
                   </span><!--
--><span class="label0 pred0"> modified</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred0">append</span><!--
--><span class="label0 pred0">(&#x27;</span><!--
--><span class="label0 pred0"> &#x27;);</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0">Was</span><!--
--><span class="label0 pred0">White</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> true</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> else</span><!--
--><span class="label0 pred0"> {</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label0 pred0">append</span><!--
--><span class="label0 pred0">Code</span><!--
--><span class="label0 pred0">Point</span><!--
--><span class="label0 pred0">(</span><!--
--><span class="label0 pred0">c</span><!--
--><span class="label0 pred0">);</span><!--
--><span class="label0 pred0">
               </span><!--
--><span class="label0 pred0"> last</span><!--
--><span class="label0 pred0">Was</span><!--
--><span class="label0 pred0">White</span><!--
--><span class="label0 pred0"> =</span><!--
--><span class="label0 pred0"> false</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
           </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
       </span><!--
--><span class="label0 pred0"> return</span><!--
--><span class="label0 pred0"> modified</span><!--
--><span class="label0 pred0"> ?</span><!--
--><span class="label0 pred0"> sb</span><!--
--><span class="label0 pred0">.</span><!--
--><span class="label1 pred1">toString</span><!--
--><span class="label0 pred0">()</span><!--
--><span class="label0 pred0"> :</span><!--
--><span class="label0 pred0"> string</span><!--
--><span class="label0 pred0">;</span><!--
--><span class="label0 pred0">
   </span><!--
--><span class="label0 pred0"> }</span><!--
--><span class="label0 pred0">
</span><!--
--><span class="label0 pred0">}</span>
</div>
<hr/>
</body>
</html>
